/* ---- SIM LAYOUT FIX: no HUD overlay ---- */
.simShell{
  position:relative;
  border-radius:18px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.18);
  overflow:hidden;
  min-height:0;
  box-shadow: 0 0 0 1px rgba(120,255,210,.06) inset;

  /* NEW: grid layout so HUD gets its own space */
  display:grid;
  grid-template-rows: auto 1fr auto; /* HUD, CANVAS, HINT */
}

/* NEW: HUD lives in the normal flow (no absolute overlay) */
.hud{
  position:relative;
  top:auto; left:auto;
  width:100%;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:10px;
  z-index:20;
}

/* NEW: canvas is now a grid row, fills remaining space */
canvas#c{
  position:relative;
  inset:auto;
  width:100%;
  height:100%;
  display:block;
  touch-action:none;
}

/* Hint stays at bottom row, not floating */
.hint{
  position:relative;
  left:auto; right:auto; bottom:auto;
  margin: 0 12px 12px;
  padding:10px 12px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.28);
  backdrop-filter: blur(10px);
  font:900 12px system-ui,-apple-system;
  letter-spacing:.06em;
  opacity:.88;
  z-index:22;
  pointer-events:none;
  text-align:center;
}

/* Mobile: ensure sim area stays tall enough */
@media (max-width: 980px){
  .simShell{
    height: calc(100vh - 104px - env(safe-area-inset-top) - env(safe-area-inset-bottom));
    min-height: 560px;
  }
}
